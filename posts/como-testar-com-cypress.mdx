---
title: Como testar o seu frontend com Cypress
date: '2023-03-19T19:05:26.000Z'
description: Neste post, você aprenderá como testar o seu frontend com Cypress, uma ferramenta moderna e poderosa de automação de testes. Com exemplos práticos e dicas úteis, descubra como garantir a qualidade do seu código e melhorar a experiência do usuário!
thumbnailUrl: /images/posts/como-adicionar-google-analytics/Google-Analytics-Logo.jpg
tags: ['code', 'tutorial']
---

Se você é desenvolvedor frontend, já deve ter passado por momentos de estresse ao tentar garantir que todas as funcionalidades do seu aplicativo web funcionem corretamente. Felizmente, existem ferramentas que podem ajudar a facilitar esse processo. Neste tutorial, vamos aprender como usar o Cypress para criar e executar testes End-to-End no seu frontend.

## O que é o Cypress?

O Cypress é uma ferramenta de teste End-to-End para aplicativos web. Ele permite testar as funcionalidades do seu aplicativo como um usuário real, interagindo com a interface gráfica e simulando eventos, como cliques e digitação. Além disso, o Cypress é fácil de usar e configurar, permitindo que você escreva testes em JavaScript com uma sintaxe clara e concisa.

## Configurando o Cypress

Antes de começar a escrever testes, você precisa instalar e configurar o Cypress. Para fazer isso, siga os seguintes passos:

1. Instale o Cypress via npm usando o seguinte comando no terminal:

<SyntaxHighlighter language="bash">
    {`  
    npm install cypress --save-dev
    // or
    yarn add -D cypress
    `}
</SyntaxHighlighter>

2. Depois de instalado, abra o Cypress executando o seguinte comando no terminal:

<SyntaxHighlighter language="bash">{`npx cypress open`}</SyntaxHighlighter>

3. O Cypress será aberto em uma nova janela. Selecione a opcao E2E Testing para criar as configurações na raiz do seu projeto.

4. Adicione a url do servidor da nossa aplicação no arquivo cypress.config.js:

<SyntaxHighlighter language="javascript">
{`
    const { defineConfig } = require("cypress");

    export default defineConfig({
        e2e: {
            // aqui inserimos a url da nossa aplicação que queremos testar
            baseUrl: 'http://localhost:3000',
            setupNodeEvents(on, config) {
                // implemente node event listeners aqui
            },
            specPattern: '**/*.cy.js'
        }
    })

`}

</SyntaxHighlighter>

Por padrão os arquivos de teste cypress terminam em `.cy.js`, mas podemos alterar isso alterando o valor de specPattern.

## Escrevendo testes com o Cypress

Agora que você já tem o Cypress instalado e configurado, podemos começar a escrever nossos testes. Para escrever testes, primeiro você precisa criar um arquivo de teste. Os arquivos de teste no Cypress têm a extensão .cy.js e ficam no diretório cypress/e2e.

### Criando um teste

Vamos começar criando um teste básico para verificar se a página inicial da sua aplicação está sendo exibida corretamente. Crie um arquivo chamado homePage.cy.js e adicione o seguinte código:

<SyntaxHighlighter language="javascript">
    {`
    describe('Página inicial', () => {
        it('Exibe o título correto', () => {
            cy.visit('/')
            cy.get('h1').should('contain', 'Bem-vindo à minha aplicação')
        })
    })
`}
</SyntaxHighlighter>

Neste teste, estamos usando a função describe para descrever o que estamos testando e a função it para especificar o que deve acontecer. A função cy.visit navega até a página inicial da sua aplicação, e a função cy.get seleciona um elemento da página para realizar uma ação sobre ele. Finalmente, usamos a função should para verificar se o elemento contém o texto correto.

### Rodando os testes

Para rodar os testes, abra o terminal e digite o seguinte comando:

<SyntaxHighlighter language="bash">{`  npx cypress open`}</SyntaxHighlighter>

Isso abrirá a interface do Cypress, onde você pode selecionar o arquivo de teste que deseja executar. Clique no arquivo homePage.cy.js e aguarde enquanto o Cypress executa o teste.

### Escrevendo testes mais avançados

Além de testar a exibição de elementos na página, o Cypress também permite testar a interação do usuário com a interface. Por exemplo, podemos testar se um formulário está funcionando corretamente:

<SyntaxHighlighter language="bash">
    {`
    describe('Formulário de contato', () => {
        it('Envia uma mensagem de contato', () => {
            cy.visit('/contact')
            cy.get('#name').type('John Doe')
            cy.get('#email').type('john.doe@example.com')
            cy.get('#message').type('Olá, gostaria de saber mais sobre seus serviços.')
            cy.get('button[type="submit"]').click()
            cy.get('#success-message').should('contain', 'Sua mensagem foi enviada com sucesso!')
        })
    })
    `}
</SyntaxHighlighter>

Neste exemplo, estamos navegando até a página de contato da aplicação, preenchendo o formulário e verificando se a mensagem de sucesso é exibida corretamente.

## Conclusão

Pronto! Agora você pode adicionar novas features ou refatorar código legado com segurança e tranquilidade de que nada está sendo quebrado no processo.

O Cypress é uma ferramenta poderosa e fácil de usar para testar o frontend da sua aplicação. Com ele, é possível testar desde a exibição de elementos na página até a interação do usuário com a interface.

Para saber mais sobre o Cypress e explorar todas as suas funcionalidades, é fundamental consultar a documentação oficial. Lá, você encontrará informações sobre como escrever testes, como configurar o ambiente, como depurar problemas e muito mais. Acesse a documentação do Cypress em <Link href='https://docs.cypress.io/'>https://docs.cypress.io/</Link> e comece a explorar todas as possibilidades que essa ferramenta oferece!
